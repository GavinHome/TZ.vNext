<template>
    <div class="app-form-container">
        <app-form-header :form="groups" :form-data="formData" :rules="rules" :formAttr="formAttr">
            <el-button @click="addGroup" icon="el-icon-plus" type="text">添加分组</el-button>
        </app-form-header>

        <el-form label-position="top" :label-width="labelWidth" :model="formData" ref="form" :rules="rules"
            @submit.native.prevent="handleValidateForm">
            <el-collapse :value="ActiveCollapses">
                <el-collapse-item v-for="(group, groupIndex) of groups" :title="group.title" :name="group.name"
                    :key="group.key">
                    <app-form-group-item :data="group" @newFormItem="handleNewFormItem" @remove-group="removeGroup"
                        @selectedFormItem="handleSelectFormItem"></app-form-group-item>
                </el-collapse-item>
            </el-collapse>
            <el-row class="mb15 mt15">
                <el-form-item class="text-right">
                    <el-button type="primary" native-type="submit" v-if="showSubmitBtn">
                        {{submitBtnText?submitBtnText:'提交'}}</el-button>
                    <el-button v-if="showBackBtn">{{backBtnText?backBtnText:'返回'}}</el-button>
                </el-form-item>
            </el-row>
        </el-form>
    </div>
</template>

<script src="./BuilderAppForm.ts"></script>


<style>
    .app-form-container {
        padding: 0px;
    }
</style>